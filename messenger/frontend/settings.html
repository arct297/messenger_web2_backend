<form id="settings-form">
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" placeholder="Enter your name" />

    <label for="avatar">Avatar URL:</label>
    <input type="text" id="avatar" name="avatar" placeholder="Enter avatar URL" />

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" placeholder="Enter new password" />

    <button type="submit">Save</button>
</form>

<script src="/js/scripts/requests/request.js"></script>
<script>
    document.getElementById('settings-form').addEventListener('submit', async (e) => {
        e.preventDefault();

        const name = document.getElementById('name').value;
        const avatar = document.getElementById('avatar').value;
        const password = document.getElementById('password').value;

        const response = await fetch('/settings', {
            method: 'PUT',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem('token')}`
            },
            body: JSON.stringify({ name, avatar, password })
        });

        if (response.ok) {
            alert('Settings updated successfully!');
        } else {
            alert('Failed to update settings.');
        }
    });
</script>
